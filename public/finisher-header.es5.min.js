!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.FinisherHeader=t()}(this,function(){"use strict";function e(e){return"string"==typeof e?document.querySelector(e):e}function t(e){return Math.random()*(e.max-e.min)+e.min}function r(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function n(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}function o(e,t,r,n,o){return{x:e+Math.cos(r)*n,y:t+Math.sin(r)*n,opacity:o}}function i(e,t){return e*(1-t)+e*t*Math.random()}function a(e,t,r){return Math.min(Math.max(e,t),r)}function s(e,t,r){var n=e-t;return n<0&&(n+=r),n}function u(e,t,r){var n=Math.abs(e-t);return Math.min(n,Math.abs(n-r))}function c(e,t,r){return u(e,t,360)<r}function l(e,t){for(var r=[],n=0;n<e;n++)r.push(t(n));return r}function f(e){return e[Math.floor(Math.random()*e.length)]}function h(e,t,r){return e+(t-e)*r}function p(e){return"#"+e.toString(16).padStart(6,"0")}function d(e){return parseInt(e.slice(1),16)}function x(e){return{r:(e>>16&255)/255,g:(e>>8&255)/255,b:(255&e)/255}}function y(e){return Math.floor(255*e.r)<<16|Math.floor(255*e.g)<<8|Math.floor(255*e.b)}function v(e,t,r){return{r:h(e.r,t.r,r),g:h(e.g,t.g,r),b:h(e.b,t.b,r)}}function g(e,t,r,n){return a(e.r*t+r.r*n,0,1)<<16|a(e.g*t+r.g*n,0,1)<<8|a(e.b*t+r.b*n,0,1)}function m(e,t,r,n){var o=x(e),i=x(t),a=v(o,i,r);return y(a)}function b(e,t,r){var n=new Path2D;if("s"===e){var o=t/2;n.arc(r.x,r.y,o,0,2*Math.PI)}else if("c"===e){var i=t/4;n.rect(r.x-i,r.y-i,t/2,t/2)}else if("t"===e){var a=t/2;n.moveTo(r.x,r.y-a),n.lineTo(r.x-a*.866,r.y+a/2),n.lineTo(r.x+a*.866,r.y+a/2),n.closePath()}else if("h"===e){var s=t/4;n.moveTo(r.x,r.y-s),n.lineTo(r.x+s*.866,r.y-s/2),n.lineTo(r.x+s*.866,r.y+s/2),n.lineTo(r.x,r.y+s),n.lineTo(r.x-s*.866,r.y+s/2),n.lineTo(r.x-s*.866,r.y-s/2),n.closePath()}return n}function M(e,t,r,n,o){var i={centerX:e/2,centerY:t/2,maxDistance:Math.sqrt(e*e+t*t)/2},a=Math.sqrt(Math.pow(r.x-i.centerX,2)+Math.pow(r.y-i.centerY,2))/i.maxDistance;return 1-(a=Math.min(1,a))*(1-n)}function w(e){this.config=Object.assign({count:50,size:{min:100,max:400,pulse:0},speed:{x:{min:-.5,max:.5},y:{min:-.5,max:.5}},colors:{background:"#0d1421",particles:["#006bb3","#004d82","#87ceeb"]},blending:"normal",opacity:{center:1,edge:0},skew:0,shapes:["c"]},e),this.canvas=null,this.ctx=null,this.particles=[],this.animationId=null,this.isDestroyed=!1,this.initialize()}return w.prototype.initialize=function(){this.createCanvas(),this.createParticles(),this.animate()},w.prototype.createCanvas=function(){var t=e(this.config.target||".finisher-header");if(!t)throw new Error("Target element not found");this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.zIndex="-1",this.canvas.style.pointerEvents="none",t.style.position="relative",t.appendChild(this.canvas),this.resizeCanvas(),window.addEventListener("resize",this.resizeCanvas.bind(this))},w.prototype.resizeCanvas=function(){var e=this.canvas.parentElement;this.canvas.width=e.offsetWidth,this.canvas.height=e.offsetHeight},w.prototype.createParticles=function(){this.particles=l(this.config.count,function(e){return{x:Math.random()*this.canvas.width,y:Math.random()*this.canvas.height,size:t(this.config.size),baseSize:t(this.config.size),speed:{x:t(this.config.speed.x),y:t(this.config.speed.y)},color:d(f(this.config.colors.particles)),shape:f(this.config.shapes),opacity:1,pulse:0}}.bind(this))},w.prototype.updateParticles=function(){var e=this;this.particles.forEach(function(r){r.x+=r.speed.x,r.y+=r.speed.y,r.x<0?r.x=e.canvas.width:r.x>e.canvas.width&&(r.x=0),r.y<0?r.y=e.canvas.height:r.y>e.canvas.height&&(r.y=0),e.config.size.pulse>0&&(r.pulse+=.02,r.size=r.baseSize+Math.sin(r.pulse)*e.config.size.pulse),r.opacity=M(e.canvas.width,e.canvas.height,r,e.config.opacity.center,e.config.opacity.edge)})},w.prototype.render=function(){var e=this.ctx;e.clearRect(0,0,this.canvas.width,this.canvas.height),e.fillStyle=this.config.colors.background,e.fillRect(0,0,this.canvas.width,this.canvas.height),e.globalCompositeOperation=this.config.blending,e.save(),e.transform(1,0,Math.tan(this.config.skew*Math.PI/180),1,0,0);var t=this;this.particles.forEach(function(r){e.fillStyle=p(r.color),e.globalAlpha=r.opacity;var n=b(r.shape,r.size,r);e.fill(n)}),e.restore()},w.prototype.animate=function(){this.isDestroyed||(this.updateParticles(),this.render(),this.animationId=requestAnimationFrame(this.animate.bind(this)))},w.prototype.destroy=function(){this.isDestroyed=!0,this.animationId&&cancelAnimationFrame(this.animationId),this.canvas&&this.canvas.parentElement&&this.canvas.parentElement.removeChild(this.canvas),window.removeEventListener("resize",this.resizeCanvas.bind(this))},w});